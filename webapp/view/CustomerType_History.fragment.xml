<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
>
    <Dialog
        id="CustomerTypeID"
        title="{i18n>Customer_Type_History}"
        class="sapUiResponsivePadding"
        stretch="false"
        resizable="true"
        draggable="true"
        contentWidth="auto"
        contentHeight="auto"
    >
        <content>
            <Table
                id="CustomerTypehistorydetails"
                items="{HistoryModel>/rows}"
                enableBusyIndicator="true"
                growing="true"
                growingThreshold="10"
                mode="None"
                noDataText="{i18n>No_history_available}"
            >
            <headerToolbar>
              <Toolbar>
                    <Title
                        text="{ parts: [
                        { path: 'i18n>History_count' },
                        { path: 'view>/HistoryCount' } ],
                    formatter: '.formatter.formatI18nCount' }"
                    />
                    <ToolbarSpacer />
                    <Button
                        icon="sap-icon://download"
                        tooltip="Export to Excel"
                        press=".onExportCustomerHistory"
                    />
                </Toolbar>
                </headerToolbar>
                <columns>
                    <Column>
                        <Text text="{i18n>Customer_Subtype}" />
                    </Column>
                    <Column>
                        <Text text="{i18n>Desc}" />
                    </Column>
                    <Column>
                        <Text text="{i18n>Risk_Level}" />
                    </Column>
                    <Column>
                         <Text text="{i18n>Created_by}" />
                    </Column>
                    <Column>
                        <Text text="{i18n>Created_on}" />
                    </Column>
                    <Column>
                        <Text text="{i18n>Updated_by}" />
                    </Column>
                     <Column>
                        <Text text="{i18n>Updated_on}" />
                    </Column>
                    <Column>
                        <Text text="{i18n>Action}" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem>
                        <cells>
                            <Text text="{path:'HistoryModel>Customer_Type', formatter:'.formatter.formatCleanText'}" />
                            <Text text="{path:'HistoryModel>Description', formatter:'.formatter.formatCleanText'}" />
                            <Text text="{path:'HistoryModel>Risk_level', formatter:'.formatter.formatCleanText'}" />
                            <Text text="{path:'HistoryModel>Created_by', formatter:'.formatter.formatCleanText'}" />
                            <Text text="{path:'HistoryModel>Created_On', formatter:'.formatter.formatDateMMDDYYYY'}" />
                            <Text text="{path:'HistoryModel>Updated_by', formatter:'.formatter.formatCleanText'}" />
                            <Text text="{path:'HistoryModel>Updated_On', formatter:'.formatter.formatDateMMDDYYYY'}" />
                            <ObjectStatus
                                text="{path:'HistoryModel>Action',formatter: '.formatter.formatCleanText'}"
                                tooltip="{path:'HistoryModel>ComActionpliance_Risk',formatter: '.formatter.formatCleanText'}"
                                state="{path: 'HistoryModel>Action', formatter: '.formatter.getActionStatus'}"
                            />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>

        <beginButton>
            <Button
                type="Reject"
                text="{i18n>dialogCloseButtonText}"
                press=".onUpdateHistoryCloseDiolog"
            />
        </beginButton>
    </Dialog>
</core:FragmentDefinition>
